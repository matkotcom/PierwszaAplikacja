<div class="container">

  <!-- <table *ngIf="terminyTab.length > 0" class="table table-striped"> -->
  <table *ngIf="terminyTabSerwer.length > 0" class="table table-striped">
    <thead>
      <tr>
        <th>Data</th>
        <th>Godzina rozpoczecia</th>
        <th>Godzina zakonczenia</th>
        <th>Termin wolny?</th>
        <th>Pacjent</th>
        <th>Powod</th>
        <th>idLekarza</th>
        <th>id</th>
        <th>Akcje</th>
      </tr>
    </thead>
    <tbody>
      <!-- <tr *ngFor="let termin of terminyTab"> -->
      <tr *ngFor="let termin of terminyTabSerwer">
        <td>{{ termin.data }}</td>
        <td>{{ termin.start }}</td>
        <td>{{ termin.stop }}</td>
        <td>{{ termin.wolny }}</td>
        <td>{{ termin.pacjent }}</td>
        <td>{{ termin.powod }}</td>
        <td>{{ termin.idLekarza }}</td>
        <td>{{ termin.id }}</td>
        <td>
          <button class="btn">Edytuj</button>
          <button (click)="usunTermin(termin.id)" class="btn btn-primary">Usun termin</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div>
    <!-- <p *ngIf="terminyTab.length == 0">Brak terminow w bazie!</p> -->
    <p *ngIf="terminyTabSerwer.length == 0">Brak terminow w bazie!</p>
  </div>

  <h1>Dodaj nowy termin</h1>
  <form [formGroup]="terminForm">

    <div class="row">
      <label>Data</label>
      <input formControlName="data" type="date" class="form-control" placeholder="Data">
    </div>
    <div class="row">
      <label>Godzina rozpoczecia</label>
      <input formControlName="start" type="time" class="form-control" placeholder="Start">
    </div>
    <div class="row">
      <label>Godzina zakonczenia</label>
      <input formControlName="stop" type="time" class="form-control" placeholder="Stop">
    </div>
    <div class="row"> 
      <div class="checkbox">
        <label>
          Termin wolny?
          <input formControlName="wolny" type="checkbox" class="form-control">
        </label>
      </div> 
    </div>
    <div class="row" *ngIf="terminForm.get('wolny').value == false">
      <label>Pacjent</label>
      <input formControlName="pacjent" type="text" class="form-control" placeholder="Pacjent">
    </div>
    <div class="row" *ngIf="terminForm.get('wolny').value == false">
      <label>Powod</label>
      <textarea formControlName="powod" class="form-control" placeholder="Powod" rows="5"></textarea>
    </div>
    <!-- <div class="row">
      <label>Id Lekarza</label>
      <input formControlName="idLekarza" type="text" class="form-control" placeholder="Id Lekarza">
    </div> -->
    <button (click)="wyslijTermin()" [disabled]="terminForm.invalid" type="submit" class="btn btn-primary">Wyslij termin</button>
    <button (click)="terminForm.reset()" class="btn btn-danger">Wyczysc</button>
    <button (click)="losujDane()" class="btn btn-info">Losuj dane terminu</button>
  </form>




  <pre>

    data
    {{ terminForm.get('data').value }}
    data start
    {{ terminForm.get('start').value }}
    data stop
    {{ terminForm.get('stop').value }}


    
    walidacja data:
    {{ terminForm.get('data').valid }}
    walidacja start:
    {{ terminForm.get('start').valid }}
    walidacja stop:
    {{ terminForm.get('stop').valid }}
    walidacja wolny:
    {{ terminForm.get('wolny').valid }}
    walidacja pacjent:
    {{ terminForm.get('pacjent').valid }}
    walidacja powod:
    {{ terminForm.get('powod').valid }}
    walidacja idLekarza:
    {{ terminForm.get('idLekarza').valid }}
  </pre>

</div> 